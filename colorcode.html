<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>color code </title>
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.2.0/styles/default.min.css">
</head>
<body>
	<div class="container">
	<div class="code">
		<div class="text-center">
			<h3 >Code:</h3>
		</div>
		<div class="grid__code-val js-grid__code-val">
		    <pre>
		        <code class="hljs" contenteditable="">
		        	$(document).ready(function() {
					  $('pre code').each(function(i, block) {
					    hljs.highlightBlock(block);
					  });
					});
		        </code>
		    </pre>
		</div>
	</div>
	<script
	  src="https://code.jquery.com/jquery-3.4.1.js"
	  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	  crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/rangy/1.3.0/rangy-core.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/rangy/1.3.0/rangy-textrange.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/rangy/1.3.0/rangy-selectionsaverestore.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<script>
		function highlightBlock(el) {
            let savedSel = rangy.saveSelection();
            hljs.highlightBlock(el);
            rangy.restoreSelection(savedSel);
    	}
    	$(document).on('keyup', '.js-grid__code-val code', function () {
		    $('.js-grid__code-val code').each(function (i, block) {
		        highlightBlock(block);
		    });
		});
		var contenteditable = document.querySelector('[contenteditable]'),
    	text = contenteditable.textContent;
    	console.log(text);
	</script>
</body>
</html>
